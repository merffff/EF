<?php

/*
|--------------------------------------------------------------------------
| Pest PHP Configuration
|--------------------------------------------------------------------------
|
| Конфигурация для Pest - альтернативного фреймворка тестирования для PHP
| Этот файл опциональный, можно использовать только PHPUnit
|
*/

use Pest\Expectation;

/*
|--------------------------------------------------------------------------
| Test Case
|--------------------------------------------------------------------------
*/

uses(Tests\TestCase::class)->in('tests');

/*
|--------------------------------------------------------------------------
| Custom Expectations
|--------------------------------------------------------------------------
*/

expect()->extend('toBeCalculatorResult', function (float $expected) {
    /** @var Expectation $this */
    return $this->toEqual($expected);
});

/*
|--------------------------------------------------------------------------
| Functions
|--------------------------------------------------------------------------
*/

/**
 * Создает новый экземпляр калькулятора для тестов
 */
function calculator(): App\Calculator
{
    return new App\Calculator();
}